{"nodes": [{"id": "1752477924228", "type": "custom", "data": {"index_chunk_variable_selector": ["1752482151668", "result"], "keyword_number": 10, "retrieval_model": {"top_k": 3, "score_threshold_enabled": false, "score_threshold": 0.5, "search_method": "keyword_search", "vector_setting": {"embedding_provider_name": "langgenius/openai/openai", "embedding_model_name": "text-embedding-ada-002"}}, "type": "knowledge-index", "title": "\u77e5\u8bc6\u5e93", "selected": false, "chunk_structure": "text_model", "indexing_technique": "economy", "embedding_model": "text-embedding-ada-002", "embedding_model_provider": "langgenius/openai/openai"}, "position": {"x": 1076.4656678451215, "y": 281.3910724383104}, "targetPosition": "left", "sourcePosition": "right", "positionAbsolute": {"x": 1076.4656678451215, "y": 281.3910724383104}, "width": 242, "height": 114, "selected": true}, {"id": "1752479895761", "type": "custom", "data": {"datasource_parameters": {}, "datasource_configurations": {}, "type": "datasource", "title": "File", "plugin_id": "langgenius/file", "provider_type": "local_file", "provider_name": "file", "datasource_name": "upload-file", "datasource_label": "File", "selected": false, "fileExtensions": ["txt", "markdown", "mdx", "pdf", "html", "xlsx", "xls", "vtt", "properties", "doc", "docx", "csv", "eml", "msg", "pptx", "xml", "epub", "ppt", "md"]}, "position": {"x": -839.8603427660498, "y": 251.3910724383104}, "targetPosition": "left", "sourcePosition": "right", "positionAbsolute": {"x": -839.8603427660498, "y": 251.3910724383104}, "width": 242, "height": 52, "selected": false}, {"id": "1752480460682", "type": "custom", "data": {"tool_parameters": {"file": {"type": "variable", "value": ["1752479895761", "file"]}}, "tool_configurations": {}, "type": "tool", "title": "Dify\u6587\u672c\u63d0\u53d6\u5668", "provider_id": "langgenius/dify_extractor/dify_extractor", "provider_type": "builtin", "provider_name": "langgenius/dify_extractor/dify_extractor", "tool_name": "dify_extractor", "tool_label": "Dify\u6587\u672c\u63d0\u53d6\u5668", "tool_description": "Dify Extractor", "is_team_authorization": true, "output_schema": {"properties": {"documents": {"description": "the documents extracted from the file", "items": {"type": "object"}, "type": "array"}, "images": {"description": "The images extracted from the file", "items": {"type": "object"}, "type": "array"}}, "type": "object"}, "paramSchemas": [{"name": "file", "label": {"en_US": "file", "zh_Hans": "file", "pt_BR": "file", "ja_JP": "file"}, "placeholder": null, "scope": null, "auto_generate": null, "template": null, "required": true, "default": null, "min": null, "max": null, "precision": null, "options": [], "type": "file", "human_description": {"en_US": "the file to be parsed(support pdf, ppt, pptx, doc, docx, png, jpg, jpeg)", "zh_Hans": "\u7528\u4e8e\u89e3\u6790\u7684\u6587\u4ef6(\u652f\u6301 pdf, ppt, pptx, doc, docx, png, jpg, jpeg)", "pt_BR": "o arquivo a ser analisado (suporta pdf, ppt, pptx, doc, docx, png, jpg, jpeg)", "ja_JP": "the file to be parsed(support pdf, ppt, pptx, doc, docx, png, jpg, jpeg)"}, "form": "llm", "llm_description": "the file to be parsed (support pdf, ppt, pptx, doc, docx, png, jpg, jpeg)"}], "params": {"file": ""}, "selected": false}, "position": {"x": -108.28652292656551, "y": 281.3910724383104}, "targetPosition": "left", "sourcePosition": "right", "positionAbsolute": {"x": -108.28652292656551, "y": 281.3910724383104}, "width": 242, "height": 52, "selected": false}, {"id": "1752481112180", "type": "custom", "data": {"variable_selector": ["1752479895761", "file"], "is_array_file": false, "type": "document-extractor", "title": "\u6587\u6863\u63d0\u53d6\u5668", "selected": false}, "position": {"x": -108.28652292656551, "y": 390.6576481692478}, "targetPosition": "left", "sourcePosition": "right", "positionAbsolute": {"x": -108.28652292656551, "y": 390.6576481692478}, "width": 242, "height": 90, "selected": false}, {"id": "1752481129417", "type": "custom", "data": {"cases": [{"id": "24e47cad-f1e2-4f74-9884-3f49d5bb37b7", "case_id": "24e47cad-f1e2-4f74-9884-3f49d5bb37b7", "logical_operator": "or", "conditions": [{"id": "9da88d93-3ff6-463f-abfd-6bcafbf2554d", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".xlsx"}, {"id": "d0e88f5e-dfe3-4bae-af0c-dbec267500de", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".xls"}, {"id": "a957e91e-1ed7-4c6b-9c80-2f0948858f1d", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".md"}, {"id": "870c3c39-8d3f-474a-ab8b-9c0ccf53db73", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".markdown"}, {"id": "f9541513-1e71-4dc1-9db5-35dc84a39e3c", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".mdx"}, {"id": "4c7f455b-ac20-40ca-9495-6cc44ffcb35d", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".html"}, {"id": "2e12d9c7-8057-4a09-8851-f9fd1d0718d1", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".htm"}, {"id": "73a995a9-d8b9-4aef-89f7-306e2ddcbce2", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".docx"}, {"id": "8a2e8772-0426-458b-a1f9-9eaaec0f27c8", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".csv"}, {"id": "aa2cb6b6-a2fc-462a-a9f5-c9c3f33a1602", "varType": "file", "variable_selector": ["1752479895761", "file", "extension"], "comparison_operator": "is", "value": ".txt"}]}], "type": "if-else", "title": "\u6761\u4ef6\u5206\u652f", "selected": false}, "position": {"x": -489.57009543377865, "y": 251.3910724383104}, "targetPosition": "left", "sourcePosition": "right", "positionAbsolute": {"x": -489.57009543377865, "y": 251.3910724383104}, "width": 242, "height": 358, "selected": false}, {"id": "1752482022496", "type": "custom", "data": {"output_type": "string", "variables": [["1752481112180", "text"], ["1752480460682", "text"]], "type": "variable-aggregator", "title": "\u53d8\u91cf\u805a\u5408\u5668", "selected": false, "advanced_settings": {"group_enabled": false, "groups": [{"output_type": "string", "variables": [["1752481112180", "text"], ["1752480460682", "text"]], "group_name": "Group1", "groupId": "f4cf07b4-914d-4544-8ef8-0c5d9e4f21a7"}]}}, "position": {"x": 319.441649575055, "y": 281.3910724383104}, "targetPosition": "left", "sourcePosition": "right", "positionAbsolute": {"x": 319.441649575055, "y": 281.3910724383104}, "width": 242, "height": 129, "selected": false}, {"id": "1752482151668", "type": "custom", "data": {"tool_parameters": {"input_variable": {"type": "mixed", "value": "{{#1752482022496.output#}}"}, "delimiter": {"type": "mixed", "value": "{{#rag.shared.delimiter#}}"}, "max_chunk_length": {"type": "variable", "value": ["rag", "shared", "max_chunk_length"]}, "chunk_overlap_length": {"type": "variable", "value": ["rag", "shared", "chunk_overlap"]}, "replace_consecutive_spaces_newlines_tabs": {"type": "mixed", "value": "{{#rag.shared.replace_consecutive_spaces#}}"}, "delete_all_urls_and_email_addresses": {"type": "mixed", "value": "{{#rag.shared.delete_urls_email#}}"}}, "tool_configurations": {}, "type": "tool", "title": "\u901a\u7528\u6587\u672c\u5206\u5757", "provider_id": "langgenius/general_chunk/general_chunk", "provider_type": "builtin", "provider_name": "langgenius/general_chunk/general_chunk", "tool_name": "general_chunk", "tool_label": "\u901a\u7528\u6587\u672c\u5206\u5757", "tool_description": "\u4e00\u4e2a\u7528\u4e8e\u901a\u7528\u6587\u672c\u5206\u5757\u6a21\u5f0f\u7684\u5de5\u5177\uff0c\u68c0\u7d22\u548c\u53ec\u56de\u7684\u5757\u662f\u76f8\u540c\u7684\u3002", "is_team_authorization": true, "output_schema": {"properties": {"result": {"description": "The result of the general chunk tool.", "properties": {"general_chunks": {"items": {"description": "The chunk of the text.", "type": "string"}, "type": "array"}}, "type": "object"}}, "type": "object"}, "paramSchemas": [{"name": "input_variable", "label": {"en_US": "Input Variable", "zh_Hans": "\u8f93\u5165\u53d8\u91cf", "pt_BR": "Input Variable", "ja_JP": "Input Variable"}, "placeholder": null, "scope": null, "auto_generate": null, "template": null, "required": true, "default": null, "min": null, "max": null, "precision": null, "options": [], "type": "string", "human_description": {"en_US": "The text you want to chunk.", "zh_Hans": "\u4f60\u60f3\u8981\u5206\u5757\u7684\u6587\u672c\u3002", "pt_BR": "The text you want to chunk.", "ja_JP": "The text you want to chunk."}, "form": "llm", "llm_description": "The text you want to chunk."}, {"name": "delimiter", "label": {"en_US": "Delimiter", "zh_Hans": "\u5206\u9694\u7b26", "pt_BR": "Delimiter", "ja_JP": "Delimiter"}, "placeholder": null, "scope": null, "auto_generate": null, "template": null, "required": true, "default": null, "min": null, "max": null, "precision": null, "options": [], "type": "string", "human_description": {"en_US": "The delimiter of the chunks.", "zh_Hans": "\u5757\u7684\u5206\u9694\u7b26\u3002", "pt_BR": "The delimiter of the chunks.", "ja_JP": "The delimiter of the chunks."}, "form": "llm", "llm_description": "The delimiter of the chunks, the format of the delimiter must be a string."}, {"name": "max_chunk_length", "label": {"en_US": "Maximum Chunk Length", "zh_Hans": "\u6700\u5927\u5757\u7684\u957f\u5ea6", "pt_BR": "Maximum Chunk Length", "ja_JP": "Maximum Chunk Length"}, "placeholder": null, "scope": null, "auto_generate": null, "template": null, "required": true, "default": null, "min": null, "max": null, "precision": null, "options": [], "type": "number", "human_description": {"en_US": "The maximum chunk length.", "zh_Hans": "\u6700\u5927\u5757\u7684\u957f\u5ea6\u3002", "pt_BR": "The maximum chunk length.", "ja_JP": "The maximum chunk length."}, "form": "llm", "llm_description": "The maximum chunk length, the format of the chunk size must be an integer."}, {"name": "chunk_overlap_length", "label": {"en_US": "Chunk Overlap Length", "zh_Hans": "\u5757\u7684\u91cd\u53e0\u957f\u5ea6", "pt_BR": "Chunk Overlap Length", "ja_JP": "Chunk Overlap Length"}, "placeholder": null, "scope": null, "auto_generate": null, "template": null, "required": false, "default": null, "min": null, "max": null, "precision": null, "options": [], "type": "number", "human_description": {"en_US": "The chunk overlap length.", "zh_Hans": "\u5757\u7684\u91cd\u53e0\u957f\u5ea6\u3002", "pt_BR": "The chunk overlap length.", "ja_JP": "The chunk overlap length."}, "form": "llm", "llm_description": "The chunk overlap length, the format of the chunk overlap length must be an integer."}, {"name": "replace_consecutive_spaces_newlines_tabs", "label": {"en_US": "Replace Consecutive Spaces, Newlines and Tabs", "zh_Hans": "\u66ff\u6362\u8fde\u7eed\u7684\u7a7a\u683c\u3001\u6362\u884c\u7b26\u548c\u5236\u8868\u7b26", "pt_BR": "Replace Consecutive Spaces, Newlines and Tabs", "ja_JP": "Replace Consecutive Spaces, Newlines and Tabs"}, "placeholder": null, "scope": null, "auto_generate": null, "template": null, "required": false, "default": null, "min": null, "max": null, "precision": null, "options": [], "type": "boolean", "human_description": {"en_US": "Replace consecutive spaces, newlines and tabs", "zh_Hans": "\u66ff\u6362\u8fde\u7eed\u7684\u7a7a\u683c\u3001\u6362\u884c\u7b26\u548c\u5236\u8868\u7b26", "pt_BR": "Replace consecutive spaces, newlines and tabs", "ja_JP": "Replace consecutive spaces, newlines and tabs"}, "form": "llm", "llm_description": "Replace consecutive spaces, newlines and tabs, the format of the replace must be a boolean."}, {"name": "delete_all_urls_and_email_addresses", "label": {"en_US": "Delete All URLs and Email Addresses", "zh_Hans": "\u5220\u9664\u6240\u6709URL\u548c\u7535\u5b50\u90ae\u4ef6\u5730\u5740", "pt_BR": "Delete All URLs and Email Addresses", "ja_JP": "Delete All URLs and Email Addresses"}, "placeholder": null, "scope": null, "auto_generate": null, "template": null, "required": false, "default": null, "min": null, "max": null, "precision": null, "options": [], "type": "boolean", "human_description": {"en_US": "Delete all URLs and email addresses", "zh_Hans": "\u5220\u9664\u6240\u6709URL\u548c\u7535\u5b50\u90ae\u4ef6\u5730\u5740", "pt_BR": "Delete all URLs and email addresses", "ja_JP": "Delete all URLs and email addresses"}, "form": "llm", "llm_description": "Delete all URLs and email addresses, the format of the delete must be a boolean."}], "params": {"input_variable": "", "delimiter": "", "max_chunk_length": "", "chunk_overlap_length": "", "replace_consecutive_spaces_newlines_tabs": "", "delete_all_urls_and_email_addresses": ""}, "selected": false}, "position": {"x": 693.5300771507484, "y": 281.3910724383104}, "targetPosition": "left", "sourcePosition": "right", "positionAbsolute": {"x": 693.5300771507484, "y": 281.3910724383104}, "width": 242, "height": 52, "selected": false}], "edges": [{"id": "1752479895761-source-1752481129417-target", "type": "custom", "source": "1752479895761", "sourceHandle": "source", "target": "1752481129417", "targetHandle": "target", "data": {"sourceType": "datasource", "targetType": "if-else", "isInIteration": false, "isInLoop": false}, "zIndex": 0}, {"id": "1752481129417-24e47cad-f1e2-4f74-9884-3f49d5bb37b7-1752480460682-target", "type": "custom", "source": "1752481129417", "target": "1752480460682", "sourceHandle": "24e47cad-f1e2-4f74-9884-3f49d5bb37b7", "targetHandle": "target", "data": {"sourceType": "if-else", "targetType": "tool", "isInLoop": false}, "zIndex": 0}, {"id": "1752481129417-false-1752481112180-target", "type": "custom", "source": "1752481129417", "target": "1752481112180", "sourceHandle": "false", "targetHandle": "target", "data": {"sourceType": "if-else", "targetType": "document-extractor", "isInLoop": false}, "zIndex": 0}, {"id": "1752480460682-source-1752482022496-target", "type": "custom", "source": "1752480460682", "sourceHandle": "source", "target": "1752482022496", "targetHandle": "target", "data": {"sourceType": "tool", "targetType": "variable-aggregator", "isInIteration": false, "isInLoop": false}, "zIndex": 0}, {"id": "1752481112180-source-1752482022496-target", "type": "custom", "source": "1752481112180", "target": "1752482022496", "sourceHandle": "source", "targetHandle": "target", "data": {"sourceType": "document-extractor", "targetType": "variable-aggregator", "isInLoop": false}, "zIndex": 0}, {"id": "1752482022496-source-1752482151668-target", "type": "custom", "source": "1752482022496", "sourceHandle": "source", "target": "1752482151668", "targetHandle": "target", "data": {"sourceType": "variable-aggregator", "targetType": "tool", "isInIteration": false, "isInLoop": false}, "zIndex": 0}, {"id": "1752482151668-source-1752477924228-target", "type": "custom", "source": "1752482151668", "sourceHandle": "source", "target": "1752477924228", "targetHandle": "target", "data": {"sourceType": "tool", "targetType": "knowledge-index", "isInIteration": false, "isInLoop": false}, "zIndex": 0}], "viewport": {"x": 701.4999626224237, "y": 128.33739021504016, "zoom": 0.48941689643726966}}